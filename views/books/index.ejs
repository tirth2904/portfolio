<!DOCTYPE html>
<html lang="en">
<head>
    <title><%= title %></title>
    <%- include('../partials/head-admin'); %>
</head>
<body>
    <header>
        <%- include('../partials/header-admin'); %>
    </header>

    <main class="container-fluid row mt-5">
        <section class="col col-lg-8">
            <div class="container">
                <div class="py-5">
                    <h3 class="display-5 text-center">Books List</h3>
                    <a href="/books/add" class="btn btn-primary">Add New</a>

                    <% if(locals.message) { %>
                        <div class="alert alert-danger my-3" role="alert"><%= message %></div>
                    <% } %>

                    <table class="table mt-5">
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">Title</th>
                                <th scope="col">Author</th>
                                <th scope="col">Pages</th>
                                <th scope="col">ISBN</th>
                                <th scope="col">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% for(var i=0; i < list.length; i++) { %>
                                <tr>
                                    <th scope="row"><%= i+1 %></th>
                                    <td><%= list[i].title %></td>
                                    <td><%= list[i].author %></td>
                                    <td><%= list[i].pages %></td>
                                    <td><%= list[i].isbn %></td>
                                    <td>
                                        <a href="/books/<%= list[i].id %>" class="btn btn-info">Edit</a>
                                        <a href="/books/delete/<%= list[i].id %>" class="btn btn-danger">Delete</a>
                                    </td>
                                </tr>
                            <% } %>
                        </tbody>
                    </table>

                </div>
            </div>
        </section>
        
        <aside class="col col-lg-4">
            <%- include('../partials/sidebar'); %>
        </aside>
    </main>

<footer>
    <%- include('../partials/footer-admin'); %>
</footer>

<%- include('../partials/scripts-admin'); %>

</body>
</html>
